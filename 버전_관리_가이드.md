# 📌 버전 관리 시스템 가이드

**최종 업데이트**: 2026-01-21 05:41  
**현재 버전**: v1.0.20260121-0541

---

## 🎯 버전 포맷

### 구조
```
v1.0.20260121-0541
  │ │ │        │
  │ │ │        └─ 시간 (HHMM)
  │ │ └────────── 날짜 (YYYYMMDD)
  │ └──────────── 마이너 버전 ✅ 수정할 때마다 증가!
  └────────────── 메이저 버전
```

### 각 부분 설명

| 부분 | 의미 | 변경 조건 | 예시 |
|------|------|----------|------|
| **메이저** | 대규모 업데이트 | 기능 대폭 변경 시 | 1, 2, 3... |
| **마이너** | 소규모 수정 | **코드 수정할 때마다** | 0, 1, 2, 3... |
| **날짜** | 수정 날짜 | 수정한 날짜 | 20260121 |
| **시간** | 수정 시간 | 수정한 시간 | 0541 (05:41) |

---

## ✅ 수정 시 작업 흐름

### 1️⃣ 현재 버전 확인
```
현재: v1.0.20260121-0541
        └── 마이너 버전 = 0
```

### 2️⃣ 코드 수정

### 3️⃣ 새 버전 계산
```bash
# 현재 시간 확인
date  # 2026-01-21 05:45

# 새 버전 계산
메이저: 1 (변경 없음)
마이너: 0 → 1 (✅ 증가!)
날짜: 20260121
시간: 0545

→ v1.1.20260121-0545
```

### 4️⃣ 4개 파일 업데이트

#### ① README.md
```markdown
# 3행 배지
![Version](https://img.shields.io/badge/version-1.1.20260121--0545-green)

# 27행 현재 버전
### 현재 버전: `v1.1.20260121-0545`
```

#### ② main.py
```python
# 15-16행
VERSION = "1.1.20260121-0545"
VERSION_DATE = "2026-01-21 05:45"
```

#### ③ index.html
```html
<!-- Footer -->
<span id="versionInfo">v1.1.20260121-0545</span>

<!-- CSS/JS 캐시 버스팅 -->
<link rel="stylesheet" href="css/style.css?v=20260121-0545">
<link rel="stylesheet" href="css/live-player.css?v=20260121-0545">
<script src="js/script.js?v=20260121-0545"></script>
```

#### ④ admin.html
```html
<!-- Footer (자동으로 API에서 가져옴) -->
<!-- 하지만 정적 표시가 있다면 수동 업데이트 -->
```

---

## 📊 버전 증가 예시

### 오늘 여러 번 수정
```
v1.0.20260121-0541  (시작)
    ↓ 첫 수정 (05:45)
v1.1.20260121-0545  (마이너 0→1)
    ↓ 두 번째 수정 (06:00)
v1.2.20260121-0600  (마이너 1→2)
    ↓ 세 번째 수정 (06:30)
v1.3.20260121-0630  (마이너 2→3)
    ↓ 네 번째 수정 (07:00)
v1.4.20260121-0700  (마이너 3→4)
```

### 다음 날 수정
```
v1.4.20260121-0700  (전날 마지막)
    ↓ 다음 날 첫 수정 (09:00)
v1.5.20260122-0900  (마이너 4→5, 날짜 변경)
    ↓ 다음 날 두 번째 수정 (10:00)
v1.6.20260122-1000  (마이너 5→6)
```

### 대규모 업데이트
```
v1.10.20260125-1500  (현재)
    ↓ 메이저 업데이트 (큰 기능 추가)
v2.0.20260125-1500   (메이저 1→2, 마이너 초기화)
    ↓ 이후 수정
v2.1.20260125-1600   (마이너 0→1)
```

---

## 🚀 빠른 체크리스트

### 수정 전
- [ ] 현재 버전 확인 (README.md 27행)
- [ ] 마이너 버전 숫자 메모

### 수정 후
- [ ] 현재 시간 확인 (`date`)
- [ ] 마이너 버전 +1 계산
- [ ] 4개 파일 업데이트
  - [ ] README.md (3행 + 27행)
  - [ ] main.py (15-16행)
  - [ ] index.html (footer + CSS/JS)
  - [ ] admin.html (footer)
- [ ] Git commit 메시지에 버전 포함
  ```bash
  git commit -m "v1.1.20260121-0545: 기능 추가"
  ```

---

## 💡 자주 묻는 질문

### Q1. 마이너 버전은 언제 초기화하나요?
**A**: 초기화하지 않습니다! 계속 증가합니다.
```
v1.0.xxx  → v1.1.xxx → v1.2.xxx → ... → v1.99.xxx → v1.100.xxx
```

### Q2. 메이저 버전은 언제 올리나요?
**A**: 대규모 기능 추가나 구조 변경 시
- Live 타임랩스 추가 → 마이너 증가 (v1.0 → v1.1)
- 전체 UI 리뉴얼 → 메이저 증가 (v1.x → v2.0)

### Q3. 시간은 정확해야 하나요?
**A**: 대략적인 시간이면 됩니다. 주요 목적은 수정 순서 추적입니다.

### Q4. CSS/JS 버전 쿼리는?
**A**: 날짜-시간만 사용 (메이저.마이너 제외)
```html
<!-- ✅ 올바른 형식 -->
<link href="css/style.css?v=20260121-0545">

<!-- ❌ 틀린 형식 -->
<link href="css/style.css?v=1.1.20260121-0545">
```

---

## 📋 버전별 주요 변경 사항 (예시)

```
v1.0.20260121-0541
- Live 타임랩스 플레이어 추가
- Conda 환경 설정
- 버전 관리 시스템 개선

v1.1.20260121-0545 (다음 수정)
- 갤러리 이미지 업로드
- ...

v1.2.20260121-0600
- 상품 관리 개선
- ...
```

---

## 🎯 핵심 포인트

1. ✅ **마이너 버전 = 가운데 숫자**
2. ✅ **수정할 때마다 마이너 버전 +1**
3. ✅ **4개 파일 모두 업데이트**
4. ✅ **날짜시간도 함께 업데이트**

---

**이 가이드를 따라 일관성 있는 버전 관리를 유지하세요!** ✨

**Made with ❤️ by 팜랜드 산양산삼**
